<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CR Transporte - Prefer√™ncias no Servi√ßo de Bordo</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #6c757d 0%, #495057 100%); padding:20px; }
.container { max-width:600px; margin:0 auto; background:white; border-radius:15px; box-shadow:0 20px 40px rgba(0,0,0,0.1); overflow:hidden; }
.header { background: linear-gradient(135deg, #343a40, #495057); color:white; padding:30px; text-align:center; }
.logo { width:80px; height:80px; margin:0 auto 20px; background:white; border-radius:50%; display:flex; align-items:center; justify-content:center; flex-direction:column; border:3px solid #fff; }
.logo .cr-text { font-size:24px; font-weight:bold; color:#343a40; line-height:1; }
.logo .transport-text { font-size:8px; color:#343a40; margin-top:2px; }
.header h1 { font-size:28px; margin-bottom:5px; }
.header h2 { font-size:20px; margin:10px 0; opacity:0.9; }
.header p { opacity:0.8; font-size:16px; }
.form-content { padding:30px; }
.form-group { margin-bottom:25px; }
.form-group label { display:block; font-weight:600; margin-bottom:10px; color:#333; font-size:16px; }
.required { color:#e74c3c; }
.checkbox-group { display:flex; flex-direction:column; gap:8px; }
.checkbox-item { display:flex; align-items:center; padding:8px; border-radius:8px; transition: background-color 0.2s; }
.checkbox-item:hover { background-color:#f8f9fa; }
.checkbox-item input[type="checkbox"], .checkbox-item input[type="radio"] { margin-right:10px; transform:scale(1.2); }
.sub-field { margin-left:30px; margin-top:10px; display:none; }
.sub-field.show { display:block; }
.sub-field.required-field input { border-color:#e74c3c; }
.sub-field input { width:100%; padding:10px; border:2px solid #e0e0e0; border-radius:8px; font-size:14px; transition:border-color 0.3s; }
.sub-field input:focus { outline:none; border-color:#6c757d; }
textarea { width:100%; min-height:100px; padding:12px; border:2px solid #e0e0e0; border-radius:8px; font-size:14px; resize:vertical; font-family:inherit; transition:border-color 0.3s; }
textarea:focus { outline:none; border-color:#6c757d; }
.submit-btn { width:100%; background: linear-gradient(135deg, #343a40, #495057); color:white; padding:15px; border:none; border-radius:10px; font-size:18px; font-weight:600; cursor:pointer; transition: transform 0.2s; }
.submit-btn:hover { transform: translateY(-2px); }
.submit-btn:disabled { background:#ccc; cursor:not-allowed; transform:none; }
.error { color:#e74c3c; font-size:14px; margin-top:5px; display:block; }
.input-error { border-color:#e74c3c !important; }
.max-selections { font-size:12px; color:#666; font-style:italic; margin-top:5px; }
</style>
</head>
<body>
<div class="container">
<div class="header">
<div class="logo">
<div class="cr-text">CR</div>
<div class="transport-text">TRANSPORTE</div>
</div>
<h1>CR TRANSPORTE</h1>
<h2>Prefer√™ncias no Servi√ßo de Bordo</h2>
<p>Preencha suas prefer√™ncias para uma viagem mais confort√°vel</p>
</div>

<div class="form-content">
<!-- Bebidas -->
<div class="form-group" id="bebidasGroup">
<label>ü•§ Bebidas <span class="required">*</span> <span class="max-selections">(Pode marcar at√© 2 op√ß√µes)</span></label>
<div class="checkbox-group">
<div class="checkbox-item"><input type="checkbox" id="semBebida" value="Prefiro n√£o receber bebida"><label for="semBebida">Prefiro n√£o receber bebida</label></div>
<div class="checkbox-item"><input type="checkbox" id="aguaNatural" value="√Ågua natural"><label for="aguaNatural">√Ågua natural</label></div>
<div class="checkbox-item"><input type="checkbox" id="aguaGas" value="√Ågua com G√°s"><label for="aguaGas">√Ågua com G√°s</label></div>
<div class="checkbox-item"><input type="checkbox" id="refrigerante" value="Refrigerante"><label for="refrigerante">Refrigerante</label></div>
<div class="sub-field" id="refrigeranteSabor"><input type="text" placeholder="Qual sabor?"></div>
<div class="checkbox-item"><input type="checkbox" id="suco" value="Suco"><label for="suco">Suco</label></div>
<div class="sub-field" id="sucoSabor"><input type="text" placeholder="Qual sabor?"></div>
<div class="error" id="bebidasError"></div>
</div>
</div>

<!-- Petiscos -->
<div class="form-group" id="petiscosGroup">
<label>ü•ú Petiscos/Snacks <span class="required">*</span> <span class="max-selections">(Escolha at√© 2 op√ß√µes)</span></label>
<div class="checkbox-group">
<div class="checkbox-item"><input type="checkbox" id="semPetisco" value="Prefiro n√£o receber petiscos"><label for="semPetisco">Prefiro n√£o receber petiscos</label></div>
<div class="checkbox-item"><input type="checkbox" id="clubeSocial" value="Clube social"><label for="clubeSocial">Clube social</label></div>
<div class="checkbox-item"><input type="checkbox" id="amendoim" value="Amendoim"><label for="amendoim">Amendoim</label></div>
<div class="checkbox-item"><input type="checkbox" id="chips" value="Chips"><label for="chips">Chips</label></div>
<div class="sub-field" id="chipsTipo"><input type="text" placeholder="Qual tipo?"></div>
<div class="checkbox-item"><input type="checkbox" id="barraCereal" value="Barra de cereal"><label for="barraCereal">Barra de cereal</label></div>
<div class="error" id="petiscosError"></div>
</div>
</div>

<!-- Doces -->
<div class="form-group" id="docesGroup">
<label>üç¨ Doces <span class="required">*</span> <span class="max-selections">(Escolha at√© 2 op√ß√µes)</span></label>
<div class="checkbox-group">
<div class="checkbox-item"><input type="checkbox" id="semDoce" value="Prefiro n√£o receber doce"><label for="semDoce">Prefiro n√£o receber doce</label></div>
<div class="checkbox-item"><input type="checkbox" id="jujuba" value="Jujuba"><label for="jujuba">Jujuba</label></div>
<div class="checkbox-item"><input type="checkbox" id="pacoca" value="Pa√ßoca"><label for="pacoca">Pa√ßoca</label></div>
<div class="checkbox-item"><input type="checkbox" id="mariola" value="Mariola"><label for="mariola">Mariola</label></div>
<div class="error" id="docesError"></div>
</div>
</div>

<!-- Observa√ß√µes -->
<div class="form-group">
<label for="observacoes">üìù Observa√ß√µes gerais</label>
<textarea id="observacoes" placeholder="Alguma observa√ß√£o especial ou prefer√™ncia adicional..."></textarea>
</div>

<button type="button" class="submit-btn" id="enviarWhats">üì± Enviar para WhatsApp</button>
</div>
</div>

<script>
// Subcampos obrigat√≥rios
function toggleSubField(id){
    const sub=document.getElementById(id+'Sabor') || document.getElementById('chipsTipo');
    if(document.getElementById(id).checked){
        sub.style.display='block';
        sub.classList.add('required-field');
    } else {
        sub.style.display='none';
        sub.classList.remove('required-field');
        sub.querySelector('input').value='';
    }
}

['refrigerante','suco','chips'].forEach(toggleSubFieldId=>{
    document.getElementById(toggleSubFieldId).addEventListener('change',()=>toggleSubField(toggleSubFieldId));
});

// Fun√ß√£o para controlar grupos
function controlarGrupo(grupoId,max){
    const group=document.getElementById(grupoId);
    const checkboxes=[...group.querySelectorAll('input[type="checkbox"]')];
    const prefiroNao=checkboxes.find(c=>c.value.includes('Prefiro n√£o'));

    checkboxes.forEach(cb=>{
        cb.addEventListener('change',()=>{
            if(prefiroNao.checked){
                checkboxes.forEach(c=>{ if(c!==prefiroNao) { c.checked=false; c.disabled=true; toggleSubField(c.id); } });
            } else {
                checkboxes.forEach(c=>c.disabled=false);
                const checked=checkboxes.filter(c=>c.checked && c!==prefiroNao);
                if(checked.length>=max) checkboxes.forEach(c=>{ if(!c.checked) c.disabled=true; });
            }
            if(cb!==prefiroNao && cb.checked) prefiroNao.checked=false;
        });
    });
}

controlarGrupo('bebidasGroup',2);
controlarGrupo('petiscosGroup',2);
controlarGrupo('docesGroup',2);

// Envio WhatsApp
document.getElementById('enviarWhats').addEventListener('click',()=>{
    document.querySelectorAll('.error').forEach(e=>e.textContent='');
    document.querySelectorAll('input, textarea').forEach(i=>i.classList.remove('input-error'));

    let valid=true;

    const bebidas=[...document.querySelectorAll('#bebidasGroup input[type="checkbox"]:checked')];
    if(bebidas.length===0){document.getElementById('bebidasError').textContent='Selecione ao menos uma bebida'; valid=false; document.getElementById('bebidasGroup').querySelectorAll('input').forEach(i=>i.classList.add('input-error'));}

    const petiscos=[...document.querySelectorAll('#petiscosGroup input[type="checkbox"]:checked')];
    if(petiscos.length===0){document.getElementById('petiscosError').textContent='Selecione ao menos um petisco'; valid=false; document.getElementById('petiscosGroup').querySelectorAll('input').forEach(i=>i.classList.add('input-error'));}

    const doces=[...document.querySelectorAll('#docesGroup input[type="checkbox"]:checked')];
    if(doces.length===0){document.getElementById('docesError').textContent='Selecione ao menos um doce'; valid=false; document.getElementById('docesGroup').querySelectorAll('input').forEach(i=>i.classList.add('input-error'));}

    // Subcampos obrigat√≥rios
    if(document.getElementById('refrigerante').checked){
        const sabor=document.querySelector('#refrigeranteSabor input').value.trim();
        if(!sabor){document.getElementById('bebidasError').textContent='Informe o sabor do refrigerante'; valid=false; document.getElementById('refrigeranteSabor').querySelector('input').classList.add('input-error');}
    }
    if(document.getElementById('suco').checked){
        const sabor=document.querySelector('#sucoSabor input').value.trim();
        if(!sabor){document.getElementById('bebidasError').textContent='Informe o sabor do suco'; valid=false; document.querySelector('#sucoSabor input').classList.add('input-error');}
    }
    if(document.getElementById('chips').checked){
        const tipo=document.querySelector('#chipsTipo input').value.trim();
        if(!tipo){document.getElementById('petiscosError').textContent='Informe o tipo de chips'; valid=false; document.querySelector('#chipsTipo input').classList.add('input-error');}
    }

    if(!valid) return;

    let msg="*Prefer√™ncias de Servi√ßo de Bordo:*\n\n";
    msg+="ü•§ Bebidas: "+bebidas.map(b=>{
        let extra='';
        if(b.id==='refrigerante') extra=document.querySelector('#refrigeranteSabor input').value.trim();
        if(b.id==='suco') extra=document.querySelector('#sucoSabor input').value.trim();
        return extra?`${b.value} (${extra})`:b.value;
    }).join(', ')+"\n";

    msg+="ü•ú Petiscos: "+petiscos.map(p=>{
        let extra='';
        if(p.id==='chips') extra=document.querySelector('#chipsTipo input').value.trim();
        return extra?`${p.value} (${extra})`:p.value;
    }).join(', ')+"\n";

    msg+="üç¨ Doces: "+doces.map(d=>d.value).join(', ')+"\n";

    const obs=document.getElementById('observacoes').value.trim();
    if(obs) msg+="üìù Observa√ß√µes: "+obs+"\n";

    const whatsapp="5527981283557";
    window.open(`https://wa.me/${whatsapp}?text=${encodeURIComponent(msg)}`,'_blank');
});
</script>
</body>
</html>
